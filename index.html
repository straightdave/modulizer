<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Modulizer by straightdave</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Modulizer</h1>
        <h2>a ruby gem that modulize the web pages</h2>
        <a href="https://github.com/straightdave/modulizer" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="modulizer" class="anchor" href="#modulizer" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>modulizer</h1>

<p>A ruby gem that helps modulize the web pages</p>

<p><a href="https://travis-ci.org/straightdave/modulizer"><img src="https://travis-ci.org/straightdave/modulizer.svg?branch=master" alt="Build Status"></a></p>

<h2>
<a id="basic-idea" class="anchor" href="#basic-idea" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>basic idea</h2>

<p>Similar to the concept of 'partials' in many backend frameworks (eg. sinatra, rails), while developing web applications, you may like to separate a complex web page into different components which, thus, could be more isolated, independent, easy-to-maintain and, the most important, reusable.</p>

<p>Here we call such components <strong>modules</strong>.
A module is just a single file which consists of mainly 3 parts of information:</p>

<ul>
<li>styling</li>
<li>template</li>
<li>scripting</li>
</ul>

<p>We put all related thing together in one single file for a module to make it more maintainable and isolated. You can develop many modules and then use <strong>modulizer</strong> to build them.
After building, the information would be compiled into one js file. Currently we need jQuery to make this work. So you need to load jQuery to the pages.</p>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>setup</h2>

<p><strong>Modulizer</strong> is a ruby gem. You can install it via:</p>

<div class="highlight highlight-source-shell"><pre>$<span class="pl-k">&gt;</span> gem install modulizer</pre></div>

<blockquote>
<p>Assume you have had ruby and gem installed. Newer the better.</p>
</blockquote>

<h2>
<a id="get-started" class="anchor" href="#get-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>get started</h2>

<p>Say you have a module file with the content:</p>

<div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- my_mod.html --&gt;</span>
<span class="pl-s1">&lt;<span class="pl-ent">style</span> <span class="pl-e">scoped</span>&gt;</span>
<span class="pl-s1"><span class="pl-ent">h2</span> {</span>
<span class="pl-s1">  <span class="pl-c1"><span class="pl-c1">color</span></span>: <span class="pl-c1">red</span>;</span>
<span class="pl-s1">}</span>
<span class="pl-s1">&lt;/<span class="pl-ent">style</span>&gt;</span>

&lt;<span class="pl-ent">template</span>&gt;
&lt;<span class="pl-ent">h2</span>&gt;Hello, world!&lt;/<span class="pl-ent">h2</span>&gt;
&lt;/<span class="pl-ent">template</span>&gt;

<span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1"><span class="pl-en">$</span>(<span class="pl-k">function</span>(){</span>
<span class="pl-s1">  <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">'</span>div#my_mod h2<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>click<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> () {</span>
<span class="pl-s1">    <span class="pl-en">alert</span>(<span class="pl-s"><span class="pl-pds">'</span>haha<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">  });</span>
<span class="pl-s1">});</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<blockquote>
<p>The module files use '.html' as extend filename just for syntax highlighting of editors. You can use any kind of names.</p>
</blockquote>

<p>The <em>style</em> element can have attribute 'scoped' to indicate the stylings are only working inside the modules. Behind the curtain it adds <code>div#mod_name</code> as prefix to the css selectors to limit styling effect.</p>

<p>Then use modulizer to build:</p>

<div class="highlight highlight-source-shell"><pre>$<span class="pl-k">&gt;</span> modulizer -e my_mod.html -o builds/my_mod.js</pre></div>

<p>The module file would be compiled to a js file:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/* auto-generated js for my-mod */</span>
(<span class="pl-k">function</span> (<span class="pl-c1">window</span>, <span class="pl-smi">$</span>) {
  <span class="pl-k">var</span> style <span class="pl-k">=</span>
  <span class="pl-s"><span class="pl-pds">'</span>&lt;style&gt;\</span>
<span class="pl-s">  div#my_mod h2 {\</span>
<span class="pl-s">    color: red;\</span>
<span class="pl-s">  }\</span>
<span class="pl-s">  &lt;/style&gt;<span class="pl-pds">'</span></span>;

  <span class="pl-k">var</span> template <span class="pl-k">=</span>
  <span class="pl-s"><span class="pl-pds">'</span>&lt;h2&gt;Hello, world&lt;/h2&gt;<span class="pl-pds">'</span></span>;

  <span class="pl-k">var</span> script <span class="pl-k">=</span>
  <span class="pl-s"><span class="pl-pds">'</span>&lt;script&gt;\</span>
<span class="pl-s">  (function(window, $) {\</span>
<span class="pl-s">    $(function(){\</span>
<span class="pl-s">      $(<span class="pl-cce">\'</span>div#my_mod h2<span class="pl-cce">\'</span>).on(<span class="pl-cce">\'</span>click<span class="pl-cce">\'</span>, function () {\</span>
<span class="pl-s">        alert(<span class="pl-cce">\'</span>haha<span class="pl-cce">\'</span>);\</span>
<span class="pl-s">      });\</span>
<span class="pl-s">    });\</span>
<span class="pl-s">  })(window,jQuery);\</span>
<span class="pl-s">  &lt;/script&gt;<span class="pl-pds">'</span></span>;

  <span class="pl-en">$</span>(<span class="pl-k">function</span>() {
    <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>div#my_mod<span class="pl-pds">"</span></span>).<span class="pl-en">html</span>(style <span class="pl-k">+</span> template <span class="pl-k">+</span> script);
  });
})(<span class="pl-c1">window</span>, jQuery);</pre></div>

<p>Now you can load the module and use it in your html page:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;!DOCTYPE html&gt;
&lt;<span class="pl-ent">html</span>&gt;
&lt;<span class="pl-ent">meta</span> <span class="pl-e">charset</span>=<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">title</span>&gt;The Title&lt;/<span class="pl-ent">title</span>&gt;
&lt;<span class="pl-ent">body</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>my-mod<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;

&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>js/jquery-3.1.0.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>modules/builds/my_mod.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
&lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre></div>

<blockquote>
<p>You can compress the js files of modules</p>
</blockquote>

<p>Voila!</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/straightdave/modulizer/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/straightdave/modulizer/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/straightdave/modulizer"></a> is maintained by <a href="https://github.com/straightdave">straightdave</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
